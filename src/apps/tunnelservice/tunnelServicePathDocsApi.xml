<?xml version="1.0" encoding="UTF-8"?>
<starosxml xmlns="http://www.staros.xyz/starcore/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" scope="application">
	<!--
		Author:
				YY
		Date:
				2017-09-20
		Copyright: 
				Nanjing StarOS Inc. All rights reserved.
	-->	
	<function name="addPath">		
		<function name="allTunnels"/>			
		<function name="postTunnel"/>			
		<function name="otherTunnelmethods"/>	
		<function name="activeTunnel"/>
	</function>

	<function name="removePath">
		<function name="removePath" class="APIDocsService">
			<parameters>
				<parameter name="pathname" type="string" in="'/tunnelservice/tunnels'"/>			
			</parameters>
		</function>
		<function name="removePath" class="APIDocsService">
			<parameters>
				<parameter name="pathname" type="string" in="'/tunnelservice/tunnel'"/>			
			</parameters>
		</function>
		<function name="removePath" class="APIDocsService">
			<parameters>
				<parameter name="pathname" type="string" in="'/tunnelservice/tunnel/{resourceid}'"/>			
			</parameters>
		</function>
	</function>

	<function name="allTunnels">
		<variable name="name" type="string"/>
		<variable name="pathconntent" type="string"/>
		<reference variable="pathconntent">
			<jsonbody><![CDATA[ 
				{
					"get": {
						"tags": [
							"tunnelservice"
						],
						"summary": "Returns all Tunnels",
						"description": "",
						"parameters": [],
						"produces": [
							"application/json"
						],
						"responses": {
							"200": {
								"description": "successful operation",
								"schema": {
									"$ref": "#/definitions/Tunnels"
								}
							},
							"default": {
								"description": "Unexpected error"
							}
						}
					}
				}				
			]]></jsonbody>
		</reference>
		<set name="context.name" value="'/tunnelservice/tunnels'"/>
		<function name="addPath" class="APIDocsService">
			<parameters>
				<parameter name="pathname" type="string" in="context.name.toString()"/>
				<parameter name="pathconntent" type="string" in="context.pathconntent.toString()"/>
			</parameters>
		</function>
	</function>

	<function name="otherTunnelmethods">
		<variable name="name" type="string"/>
		<variable name="pathconntent" type="string"/>		
		<reference variable="pathconntent">
			<jsonbody><![CDATA[ 
				{
					"get": {
						"tags": [
							"tunnelservice"
						],
						"summary": "Returns one Tunnel",
						"description": "",
						"parameters": [
							{
								"name": "resourceid",
								"in": "path",
								"type": "string",
								"description": "Get one tunnel by resourceid",
								"required": true						
							}
						],
						"produces": [
							"application/json"
						],
						"responses": {
							"200": {
								"description": "successful operation",
								"schema": {
									"$ref": "#/definitions/Tunnel"
								}
							},
							"default": {
								"description": "Unexpected error"
							}
						}
					},					
					"put": {
						"tags": [
							"tunnelservice"
						],
						"summary": "Update a Tunnel",
						"description": "",
						"parameters": [
							{
								"name": "resourceid",
								"in": "path",		
								"type": "string",			
								"description": "Updata one tunnel by resourceid",
								"required": true
							},
							{
								"name": "stream",
								"in": "body",
								"type": "string",
								"schema": {
									"$ref": "#/definitions/Tunnel"
								},
								"description": "Update one tunnel",
								"required": true
							}
						],
						"consumes": [
							"application/json"
						],
						"responses": {
							"200": {
								"description": "successful operation",
								"schema": {
									"$ref": "#/definitions/Result"
								}
							},
							"default": {
								"description": "Unexpected error"
							}
						}
					},
					"delete": {
						"tags": [
							"tunnelservice"
						],
						"summary": "Removes one Tunnel",
						"description": "",
						"parameters": [
							{
								"name": "resourceid",
								"in": "path",
								"type": "string",
								"description": "Delete one tunnel by resourceid",
								"required": "true"
							}
						],
						"responses": {
							"200": {
								"description": "successful operation",
								"schema": {
									"$ref": "#/definitions/Result"
								}
							},
							"default": {
								"description": "Unexpected error"
							}
						}
					}
				}
			]]></jsonbody>
		</reference>
		<set name="context.name" value="'/tunnelservice/tunnel/{resourceid}'"/>
		<function name="addPath" class="APIDocsService">
			<parameters>
				<parameter name="pathname" type="string" in="context.name.toString()"/>
				<parameter name="pathconntent" type="string" in="context.pathconntent.toString()"/>
			</parameters>
		</function>
	</function>

	<function name="postTunnel">
		<variable name="name" type="string"/>
		<variable name="pathconntent" type="string"/>
		<reference variable="pathconntent">
			<jsonbody><![CDATA[ 
				{
					"post": {
						"tags": [
							"tunnelservice"
						],
						"summary": "Install a new Tunnel",
						"description": "",
						"parameters": [
							{
								"name": "stream",
								"in": "body",
								"type": "string",
								"description": "Create one tunnel",
								"required": true,
								"schema": {
									"$ref": "#/definitions/Tunnel"
								}					
							}
						],
						"consumes": [
							"application/octet_stream"
						],
						"produces": [
							"application/json"
						],
						"responses": {
							"200": {
								"description": "successful operation",
								"schema": {
									"$ref": "#/definitions/Result"
								}
							},
							"default": {
								"description": "Unexpected error"
							}
						}
					}
				}
			]]></jsonbody>
		</reference>
		<set name="context.name" value="'/tunnelservice/tunnel'"/>
		<function name="addPath" class="APIDocsService">
			<parameters>
				<parameter name="pathname" type="string" in="context.name.toString()"/>
				<parameter name="pathconntent" type="string" in="context.pathconntent.toString()"/>
			</parameters>
		</function>
	</function>

	<function name="activeTunnel">
		<variable name="name" type="string"/>
		<variable name="pathconntent" type="string"/>
		<reference variable="pathconntent">
			<jsonbody><![CDATA[ 
				{
					"post": {
						"tags": [
							"tunnelservice"
						],
						"summary": "Active all Tunnels",
						"description": "",
						"parameters": [							
						],
						"consumes": [
							"application/octet_stream"
						],
						"produces": [
							"application/json"
						],
						"responses": {
							"200": {
								"description": "successful operation",
								"schema": {
									"$ref": "#/definitions/Result"
								}
							},
							"default": {
								"description": "Unexpected error"
							}
						}
					},
					"delete": {
						"tags": [
							"tunnelservice"
						],
						"summary": "Deactive all Tunnels",
						"description": "",
						"parameters": [							
						],
						"responses": {
							"200": {
								"description": "successful operation",
								"schema": {
									"$ref": "#/definitions/Result"
								}
							},
							"default": {
								"description": "Unexpected error"
							}
						}
					}
				}
			]]></jsonbody>
		</reference>
		<set name="context.name" value="'/tunnelservice/tunnels/active'"/>
		<function name="addPath" class="APIDocsService">
			<parameters>
				<parameter name="pathname" type="string" in="context.name.toString()"/>
				<parameter name="pathconntent" type="string" in="context.pathconntent.toString()"/>
			</parameters>
		</function>
	</function>
	<function name="deactiveTunnel">
		<variable name="name" type="string"/>
		<variable name="pathconntent" type="string"/>
		<reference variable="pathconntent">
			<jsonbody><![CDATA[ 
				{
					"post": {
						"tags": [
							"tunnelservice"
						],
						"summary": "Deactive all Tunnels",
						"description": "",
						"parameters": [							
						],
						"consumes": [
							"application/octet_stream"
						],
						"produces": [
							"application/json"
						],
						"responses": {
							"200": {
								"description": "successful operation",
								"schema": {
									"$ref": "#/definitions/Result"
								}
							},
							"default": {
								"description": "Unexpected error"
							}
						}
					}
				}
			]]></jsonbody>
		</reference>
		<set name="context.name" value="'/tunnelservice/tunnels/deactive'"/>
		<function name="addPath" class="APIDocsService">
			<parameters>
				<parameter name="pathname" type="string" in="context.name.toString()"/>
				<parameter name="pathconntent" type="string" in="context.pathconntent.toString()"/>
			</parameters>
		</function>
	</function>
</starosxml>