<?xml version="1.0" encoding="UTF-8"?>
<starosxml xmlns="http://www.staros.xyz/starcore/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" scope="application">
<!--
	Author:
			YY
	Date:
			2017-08-02
	Copyright: 
			Nanjing StarOS Inc. All rights reserved.
-->
	<function name="sendtoAllWebsocketclient">
		<parameters>
			<parameter name="jsonbody" type="string"/>			
		</parameters>
		<function>
			<!--<log><![CDATA[sendtoAllWebsocketclient clientsize= <%=context.websocketclients.size()%>]]></log>-->
			<for var="i" from="0" to="context.websocketclients.size()-1">
				<function>
					<websocket name="restfulserver" method="SendText" transportid="context.websocketclients.getValueByIndex(context.i.toLong()).toString()">
						<jsonsrc src="jsonbody"/>
					</websocket>
				</function>
			</for>
		</function>
	</function>
</starosxml>