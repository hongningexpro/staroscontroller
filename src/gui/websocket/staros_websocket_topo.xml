<?xml version="1.0" encoding="UTF-8"?>
<starosxml>
	<function name="HandleUpdatePrefReq">
		<function>
			<websocket name="restfulserver" method="SendText" transportid="event.getParam('transportid').toString()">
				<jsonbody>
				<![CDATA[
{"event":"updatePrefs","payload":{"topo_prefs":{"insts":1,"summary":1,"detail":1,"hosts":0,"offdev":1,"dlbls":0,"porthl":1,"bg":0,"spr":0,"ovid":"traffic","toolbar":0},"topo_mapid":{"mapid":"usa","mapscale":1,"mapfilepath":"*continental_us","tint":"off"},"topo_zoom":{"tx":0,"ty":0,"sc":1}}}
				]]>
				</jsonbody>
			</websocket>
		</function>
	</function>
	<function name="HandletopoSelectOverlay">
		<function>
			<function name="SendAddInstance"/>
			<function name="SendAddAllDevice"/>
			<function name="SendAddAllLink"/>
		</function>
	</function>
	<function name="HandletopoStart">
		<function>
			<function name="SendAddInstance"/>
			<function name="SendAddAllDevice"/>
			<function name="SendAddAllLink"/>
			<function name="topoStartDone"/>
		</function>
	</function>
	<function name="HandleRequestSummary">
		<function name="ShowSummary"/>
	</function>
	<function name="SendAddInstance">
		<variable name="sendstrjson" type="string"/>
		<function>
			<function name="AddInstanceRequest" class="gInstanceManager">
				<parameters>
					<parameter name="transportid" type="string" in="event.getParam('transportid').toString()"/>						
				</parameters>
			</function>
		</function>
	</function>
	<function name="SendAddAllLink">
		<function name="SendAddAllLinkToWebClient" class="DeviceManager">
			<parameters>
				<parameter name="transportid" type="string" in="event.getParam('transportid').toString()"/>
			</parameters>
		</function>
	</function>
	<function name="SendAddAllDevice">
		<function name="SendAddAllDeviceToWebClient" class="DeviceManager">
			<parameters>
				<parameter name="transportid" type="string" in="event.getParam('transportid').toString()"/>
			</parameters>
		</function>
	</function>

	<function name="ShowSummary">
		<variable name="sendstrjson" type="string"/>
		<function>
			<websocket name="restfulserver" method="SendText" transportid="event.getParam('transportid').toString()">
				<jsonbody>
				<![CDATA[
						{
						"event":"showSummary",
						"payload":
						{"title":"ONOS Summary",
						"type":"node",
						"id":null,
						"propOrder":
						["Version",
						"-",
						"Devices",
						"Links",
						"Hosts",
						"Topology SCCs",
						"-",
						"Intents",
						"Tunnels",
						"Flows"
						],
						"props":
						{
						"Version":"1.10.0",
						"-":"",
						"Devices":"1",
						"Links":"0",
						"Hosts":"0",
						"Topology SCCs":"1",
						"Intents":"0",
						"Tunnels":"0",
						"Flows":"12"},
						"buttons":[]}}
					]]>
				</jsonbody>
			</websocket>
		</function>
	</function>
	<function name="topoStartDone">
		<variable name="sendstrjson" type="string"/>
		<function>
			<websocket name="restfulserver" method="SendText" transportid="event.getParam('transportid').toString()">
				<jsonbody>
				<![CDATA[
					{"event":"topoStartDone","payload":{}}
					]]>
				</jsonbody>
			</websocket>
		</function>
	</function>
</starosxml>