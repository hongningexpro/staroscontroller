<?xml version="1.0" encoding="UTF-8"?>
<starlang xmlns="http://www.staros.xyz/starcore/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" scope="application">
<!--
	Author:
			YY
	Date:
			2017-07-31
	Copyright: 
			Nanjing StarOS Inc. All rights reserved.
-->
	<function name="HandleDetailsReq">
		<string name="datapathid"/>
		<hashmap name="switchdevice" keytype="string" valuetype="string"/>
		<hashmap name="switchport" keytype="string" valuetype="hashmap"/>
		<script><![CDATA[
			var info = JSON.parse(event.getParam("eventdata").toString());
			var dataid = info.payload.id;
			var final_id = dataid.split(":")[1];
			context.datapathid.setValue(final_id);
			]]>
		</script>
		<function name="SendDetails" class="DeviceManager">	
			<parameters>
				<string name="transportid" in="event.getParam('transportid').toString()"/>
				<string name="datapathid" in="context.datapathid.toString()"/>	
			</parameters>
		</function>
	</function>
</starlang>