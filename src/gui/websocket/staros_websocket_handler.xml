<?xml version="1.0" encoding="UTF-8"?>
<starosxml xmlns="http://www.staros.xyz/starcore" scope="application">
	<include src="/opt/staros.xyz/staroscontroller/starlang/gui/websocket/staros_websocket_cluster.xml"/>
	<include src="/opt/staros.xyz/staroscontroller/starlang/gui/websocket/staros_websocket_topo.xml"/>
	<include src="/opt/staros.xyz/staroscontroller/starlang/gui/websocket/staros_websocket_bootstrap.xml"/>
	<!--qiulei 20170728-->
	<include src="/opt/staros.xyz/staroscontroller/starlang/gui/websocket/staros_websocket_devicedata.xml"/>
	<include src="/opt/staros.xyz/staroscontroller/starlang/gui/websocket/staros_websocket_map.xml"/>

	<!--YY 20170728-->
	<include src="/opt/staros.xyz/staroscontroller/starlang/gui/websocket/staros_websocket_links.xml"/>
	<!--YY 20170731-->
	<include src="/opt/staros.xyz/staroscontroller/starlang/gui/websocket/staros_websocket_requestDetails.xml"/>
	<include src="/opt/staros.xyz/staroscontroller/starlang/gui/websocket/staros_websocket_showHighlights.xml"/>
	<!--hupeng 20170804-->
	<include src="/opt/staros.xyz/staroscontroller/starlang/gui/websocket/staros_websocket_host.xml"/>
	<include src="/opt/staros.xyz/staroscontroller/starlang/gui/websocket/staros_websocket_apps.xml"/>
	<include src="/opt/staros.xyz/staroscontroller/starlang/gui/websocket/staros_websocket_settings.xml"/>
	<include src="/opt/staros.xyz/staroscontroller/starlang/gui/websocket/staros_websocket_flows.xml"/>
	<include src="/opt/staros.xyz/staroscontroller/starlang/gui/websocket/staros_websocket_ports.xml"/>
	<include src="/opt/staros.xyz/staroscontroller/starlang/gui/websocket/staros_websocket_meter.xml"/>
	<include src="/opt/staros.xyz/staroscontroller/starlang/gui/websocket/staros_websocket_group.xml"/>
	<include src="/opt/staros.xyz/staroscontroller/starlang/gui/websocket/staros_websocket_processor.xml"/>
	<!--WebGUI-->
	<function name="HandleWebSocket">
		<parameters>
			<parameter name="websockettype" type="string"/>
		</parameters>
		<variable name="functionname" type="string"/>
		<variable name="isHaveHandler" type="boolean"/>
		<log>HandleWebSocket</log>
		<log><![CDATA[HandleWebSocket websockettype <%=context.websockettype.toString()%>]]></log>
		<if cond="global.WebSocketHandlerMap.hasParam(context.websockettype) == true">
			<then>
				<function>
					<set name="functionname" value="global.WebSocketHandlerMap.getParam(context.websockettype.toString())"/>
					<function callback="functionname"/>
				</function>
			</then>
			<else>
				<function>
					<log><![CDATA[Don't have the WebSocketHandlerMap for websockettype= <%=context.websockettype.toString()%>]]></log>
					<log><![CDATA[event data= <%=event.getParam('eventdata').toString()%>]]></log>
				</function>
			</else>
		</if>
	</function>
</starosxml>