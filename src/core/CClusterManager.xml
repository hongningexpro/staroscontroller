<?xml version="1.0" encoding="UTF-8"?>
<starlang xmlns="http://www.staros.xyz/starcore/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" scope="application">
	<!-- qiulei 20170807 pm-->
	<class name="CClusterManager">
		<private>
			<hashmap name="InstanceContainer"  keytype="string" valuetype="hashmap"/>
		</private>
	
		<public>
			<!--20170905 
				Call this function
				introduction id ,type is String
				introduction instanceinfo, type is hashmap
			-->
			
			<!--
				@brief		添加实例
				@auth 		qiulei
				@date		2017/11/28
				Input:
				Output:
			-->
			<function name="addInstance">
				<parameters>
					<string name="id"/>
					<hashmap name="instanceinfo"/>			
				</parameters>
				<insert name="InstanceContainer" key="context.id.toString()" value="context.instanceinfo"/>
			</function>
			
			<!--20170904 
				Call this function
				introduction id ,type is String
				output instanceinfo, type is hashmap
			-->
			<!--
				@brief		找到实例
				@auth 		qiulei
				@date		2017/11/28
				Input:
				Output:
			-->
			<function name="findInstance">
				<parameters>
					<string name="id"/>
					<hashmap name="instanceinfo" />
				</parameters>
				<hashmap name="OneInstanceContainer"  keytype="string" valuetype="string"/>
				<if cond="context.InstanceContainer.hasValue(context.id)==true">
					<then>
						<function>
							<lookup name="InstanceContainer" key="context.id.toString()" output="context.OneInstanceContainer"/>
						</function>
					</then>
				</if>
				<set name="instanceinfo" value="context.OneInstanceContainer"/>
			</function>
			
			<!--20170905 
				Call this function
				introduction id ,type is String
			-->
			<!--
				@brief		删除实例
				@auth 		qiulei
				@date		2017/11/28
				Input:
				Output:
			-->
			<function name="removeInstance">
				<parameters>
					<string name="id"/>
				</parameters>
				<remove name="InstanceContainer" key="context.id.toString()"/>
			</function>
		</public>
	</class>
</starlang>