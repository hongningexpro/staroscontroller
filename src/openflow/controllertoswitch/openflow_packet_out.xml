<?xml version="1.0" encoding="UTF-8"?>
<starosxml xmlns="http://www.staros.xyz/starcore/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" scope="application">
<!--
	Author:
			qiulei
	Date:
			2017/08/22 Tuesday pm
	Copyright: 
			Nanjing StarOS Inc. All rights reserved.
-->
	<function name="SendOpenFlowPacketOut">
		<parameters>
			<parameter name="outputport" type="string"/>
			<parameter name="payloadjson" type="string"/>
			<parameter name="transportid" type="string"/>
			<!--qiulei 2017.08.22 pm-->
			<parameter name="msgblock" type="messageblock"/>
		</parameters>
		<log>-- SendOpenFlowPacketOut 2017.08.22 Tuesday pm --</log>
		<variable name="modstrjson" type="string"/>
		
		<reference variable="modstrjson">
					<jsonbody><![CDATA[ 
							{
								"xid":"<%=context.openflowserverobj.getIncreaseXID()%>",
								"bufferid":"0xffffffff",
								"inport":"0xfffffffd",
								"actionlist":[
									{
										"type":"0",
										"outport":"<%=context.outputport.toString()%>",
										"maxlen":"0xffff"
									}
								],
								"payload":<%=context.payloadjson.toString()%>
							}
					]]></jsonbody>
				</reference>
									<log><![CDATA[modstrjson =<%=context.modstrjson.toString()%>]]></log>
		<function name="Send_OFPT13_PACKET_OUT">
			<parameters>
				<parameter name="transportid" type="string" in="context.transportid.toString()"/>
				<parameter name="strjson" type="string" in="context.modstrjson.toString()"/>
				<!--qiulei 2017.08.22-->
				<parameter name="msgblock" type="messageblock" in="context.msgblock"/>
			</parameters>
		</function>
	</function>
</starosxml>