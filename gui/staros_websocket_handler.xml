<?xml version="1.0" encoding="UTF-8"?>
<starosxml xmlns="http://www.staros.xyz/starcore" scope="application">
	<!--WebGUI-->
	<function name="HandleWebSocket">
		<parameters>
			<parameter name="websockettype" type="string"/>
		</parameters>
		<variable name="functionname" type="string"/>
		<variable name="isHaveHandler" type="boolean"/>
		<log>HandleWebSocket</log>
		<log><![CDATA[HandleWebSocket websockettype <%=context.websockettype.toString()%>]]></log>
		<if cond="global.WebSocketHandlerMap.hasParam(context.websockettype) == true">
			<then>
				<function>
					<set name="functionname" value="global.WebSocketHandlerMap.getParam(context.websockettype.toString())"/>
					<function callback="functionname"/>
				</function>
			</then>
			<else>
				<function>
					<log><![CDATA[Don't have the WebSocketHandlerMap for websockettype= <%=context.websockettype.toString()%>]]></log>
					<log><![CDATA[event data= <%=event.getParam('eventdata').toString()%>]]></log>
				</function>
			</else>
		</if>
	</function>
</starosxml>